SELECT 
	P.TIPOPARTIDO, 
	TP.NOMBRE, 
	COUNT(1) CANTIDAD, 
	CONVERT(DECIMAL(18,3),(CONVERT(DECIMAL(18,3),COUNT(1)) / CONVERT(DECIMAL(18,3),(SELECT COUNT(1) FROM PARTIDO))) * 100.00) PORCENTAJE
FROM PARTIDO P
JOIN TIPO_PARTIDO TP ON TP.CODIGO = P.TIPOPARTIDO
GROUP BY P.TIPOPARTIDO, TP.NOMBRE
ORDER BY 3 DESC